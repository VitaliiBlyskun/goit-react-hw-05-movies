{"version":3,"file":"static/js/158.388b402a.chunk.js","mappings":"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","sources":["components/MoviesListTemplate/MoviesListTemplate.styled.js","components/services/api.js","pages/Movies.styled.js","pages/Movies.jsx"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const Container = styled.ul`\n  display: block;\n`;\n\nexport const CardWrapper = styled.li`\n  list-style: none;\n  > a {\n    text-decoration: none;\n  }\n`;\n\n\nexport const MovieName = styled.h3`\n  padding: 4px;\n  margin-top: 8px;\n  margin-bottom: 0;\n  color: black;\n\n  :hover {\n    color: orangered;\n  }\n`;\n","import axios from 'axios';\n\nexport const API_KEY = '00bb2c85647763d13c7f7e27b824373c'; //ключ\nexport const BASE_URL = 'https://api.themoviedb.org/3/'; //базове юрл\n\n\n// 'https://api.themoviedb.org/3/trending/all/day?api_key=00bb2c85647763d13c7f7e27b824373c'\n\n// посилання на початковий рендер популярних фільмів\nexport const popularMovies = async () => {\n  const { data } = await axios.get(\n    `${BASE_URL}trending/all/day?api_key=${API_KEY}`\n  );\n\n    return data.results;\n};\n\n\n// https://api.themoviedb.org/3/search/movie?api_key=00bb2c85647763d13c7f7e27b824373c&language=en-US&page=1&include_adult=false&query=cat\n\n//посилання на пошук фільмів за назвою\nexport const moviesByName = async (query) => {\n  const { data } = await axios.get(\n    `${BASE_URL}search/movie?api_key=${API_KEY}&language=en-US&page=1&include_adult=false&query=${query}`\n  );\n  return data;\n};\n\n// 'https://api.themoviedb.org/3/movie/20?api_key=00bb2c85647763d13c7f7e27b824373c&language=en-US'\n\n// запит повної інформації про фільм для сторінки кінофільму.\nexport const movieFullInfo = async id => {\n  const { data } = await axios.get(\n    `${BASE_URL}movie/${id}?api_key=${API_KEY}&language=en-US`\n  );\n\n  return data;\n};\n\n\n// 'https://api.themoviedb.org/3/movie/20/credits?api_key=00bb2c85647763d13c7f7e27b824373c&language=en-US'\n\n\n// запит інформації про акторський склад для сторінки кінофільму\nexport const movieActors = async id => {\n  const { data } = await axios.get(\n    `${BASE_URL}movie/${id}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  return data;\n};\n\n\n\n// 'https://api.themoviedb.org/3/movie/100/reviews?api_key=00bb2c85647763d13c7f7e27b824373c&language=en-US&page=1'\n\n// запит оглядів для сторінки кінофільму\nexport const movieReviews = async id => {\n  const { data } = await axios.get(\n    `${BASE_URL}movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n  return data;\n};\n\n","import styled from 'styled-components';\n\nexport const Form = styled.form`\n  margin-top: 10px;\n`;\n\nexport const Input = styled.input`\n  margin-bottom: 15px;\n  width: 250px;\n  border: 1px solid #ccc;\n  &:hover,\n  :focus {\n    box-shadow: 0 0 5px orangered;\n  }\n`;\n\nexport const Button = styled.button`\n  background-color: black;\n  color: orangered;\n  margin-left: 5px;\n  border-radius: 10px;\n\n  &:hover,\n  :focus {\n    box-shadow: 0 0 5px orangered;\n    background-color:  orangered;\n    color: black;\n  }\n`;\n\nexport const List = styled.ul`\n  display: block;\n`;\n\nexport const Item = styled.li`\n  list-style: none;\n  > a {\n    text-decoration: none;\n  }\n`;\n","import { useState, useEffect } from 'react';\nimport { useSearchParams, useLocation, Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { moviesByName } from 'components/services/api';\nimport { Form, Input, Button, List, Item } from './Movies.styled';\nimport { MovieName } from 'components/MoviesListTemplate/MoviesListTemplate.styled';\n\nconst Movies = () => {\n  const [query, setQuery] = useState([]);\n  const [isLoading, setIsLoading] = useState(null);\n  const [error, setError] = useState(null);\n  const [result, setResult] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const searchQuery = searchParams.get('searchQuery') ?? '';\n\n  const location = useLocation();\n\n  useEffect(() => {\n    if (searchQuery === '') {\n      return;\n    }\n\n    setIsLoading(true);\n\n    async function findMovies() {\n      try {\n        const { results } = await moviesByName(searchQuery);\n\n        setQuery([...results]);\n        setResult(true);\n      } catch (error) {\n        setError(error.message);\n        setResult(false);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n\n    findMovies();\n  }, [searchQuery]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    const form = event.currentTarget;\n    setSearchParams({ searchQuery: form.elements.searchQuery.value });\n    form.reset();\n    setQuery([]);\n  };\n\n  return (\n    <>\n      <main>\n        <Form onSubmit={handleSubmit}>\n          <Input\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search movies\"\n            name=\"searchQuery\"\n          />\n          <Button type=\"submit\">Search</Button>\n        </Form>\n        {isLoading && 'Waiting for'}\n        {result === false && <h3>{error}</h3>}\n        <List>\n          {result === true &&\n            query.map(({ id, title }) => (\n              <Item key={id}>\n                <Link to={`/movies/${id}`} state={{ from: location }}>\n                  <MovieName>{title}</MovieName>\n                </Link>\n              </Item>\n            ))}\n        </List>\n      </main>\n    </>\n  );\n};\n\nMovies.propTypes = {\n  query: PropTypes.array,\n  error: PropTypes.any,\n  isLoading: PropTypes.bool,\n  result: PropTypes.bool,\n  searchParams: PropTypes.object,\n};\n\nexport default Movies\n"],"names":["Container","styled","CardWrapper","MovieName","API_KEY","BASE_URL","popularMovies","axios","data","results","moviesByName","query","movieFullInfo","id","movieActors","movieReviews","Form","Input","Button","List","Item","useState","setQuery","isLoading","setIsLoading","error","setError","result","setResult","useSearchParams","searchParams","setSearchParams","searchQuery","get","location","useLocation","useEffect","message","findMovies","onSubmit","event","preventDefault","form","currentTarget","elements","value","reset","type","autoComplete","autoFocus","placeholder","name","map","title","to","state","from"],"sourceRoot":""}